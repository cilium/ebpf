# Kernel config common between arches

# Enable BPF related things
# Please sort lines by alphabet ascending.
# CONFIG_UPROBE_EVENT renamed to CONFIG_UPROBE_EVENTS in v4.11
CONFIG_BPF_JIT=y
CONFIG_BPF_LIRC_MODE2=y
CONFIG_BPF_LSM=y
CONFIG_BPF_STREAM_PARSER=y
CONFIG_BPF_SYSCALL=y
CONFIG_BPF=y
CONFIG_BPFILTER=y
CONFIG_CGROUP_BPF=y
CONFIG_CGROUP_NET_CLASSID=y
CONFIG_DEBUG_INFO_BTF=y
# >= 5.18 has a different toggle for debug info
CONFIG_DEBUG_INFO_DWARF_TOOLCHAIN_DEFAULT=y
CONFIG_DEBUG_INFO=y
CONFIG_DYNAMIC_FTRACE=y
CONFIG_EPOLL=y
CONFIG_EVENTFD=y
CONFIG_FPROBE=y
CONFIG_FTRACE_SYSCALLS=y
CONFIG_FUNCTION_ERROR_INJECTION=y
CONFIG_IKCONFIG_PROC=y
CONFIG_IKCONFIG=y
CONFIG_INET=y
CONFIG_IPV6=y
CONFIG_LIRC=y
CONFIG_NET=y
CONFIG_NETFILTER_ADVANCED=y
CONFIG_NF_CONNTRACK_MARK=y
CONFIG_PERF_EVENTS=y
CONFIG_RC_CORE=y
CONFIG_SECURITYFS=y
CONFIG_STACK_TRACER=y
CONFIG_UPROBE_EVENT=y
CONFIG_UPROBE_EVENTS=y
CONFIG_XDP_SOCKETS=y

# VirtIO
CONFIG_KVM_GUEST=y
CONFIG_HW_RANDOM_VIRTIO=y
CONFIG_VIRTIO_BALLOON=y

# Get rid of some drivers
CONFIG_AGP=n
CONFIG_ATA=n
CONFIG_DRM=n
CONFIG_ETHERNET=n
CONFIG_EXT4_FS=n
CONFIG_FDDI=n
CONFIG_HID_GENERIC=n
CONFIG_HID=n
CONFIG_MD=n
CONFIG_NFS_FS=n
CONFIG_PCCARD=n
CONFIG_SOUND=n
CONFIG_USB_SUPPORT=n
CONFIG_WIRELESS=n
CONFIG_WLAN=n
