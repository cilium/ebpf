site_name: ebpf-go
site_description: Pure-Go library to read, modify and load eBPF programs and attach them to various hooks in the Linux kernel. 
site_author: Cilium Community

# Rendered in header.
repo_url: https://github.com/cilium/ebpf
repo_name: cilium/ebpf
edit_uri: edit/master/docs/ebpf/

# Directory to look for Markdown files within docs/.
docs_dir: ebpf

theme:
  logo: cilium-ebpf.png
  name: material

  icon:
    # GitHub link in the header.
    repo: fontawesome/brands/github-alt
    # Edit button at the top of each page.
    edit: material/pencil-ruler

  features:
    # Display sections in the navbar.
    - navigation.sections
    # Allow associating pages with sections without an explicit 'Index' page.
    - navigation.indexes 
    # Anchor tracking, updates the address bar with the active anchor.
    - navigation.tracking
    # Use XHR instead of fully reloading the page when navigating around.
    - nagivation.instant
    # Clipboard button in code blocks.
    - content.code.copy
    # Button to edit page on GitHub.
    - content.action.edit

  palette:
    # Palette toggle for light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      toggle:
        icon: material/lightbulb-off
        name: Switch to dark mode

    # Palette toggle for dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      toggle:
        icon: material/lightbulb-on
        name: Switch to light mode

  # Template overrides.
  custom_dir: overrides

nav:
  - 'Index': index.md
  - 'Getting Started':
    - getting-started/index.md
    - 'Further Reading': 'getting-started/further-reading.md'
    - 'Resource Limits': 'getting-started/rlimit.md'
  - 'Loading Objects':
    - loading/index.md
    - 'ELF Sections': 'loading/elf-sections.md'
    - 'Compile Once - Run Everywhere': 'loading/core.md'
    - 'Object Lifecycle': 'loading/object-lifecycle.md'
  - 'Linking/Attaching':
    - 'links/index.md'
  - 'Programs':
    - 'Testing': 'programs/testing.md'
  - 'BTF':
    - 'btf/index.md'
  - 'Feature Probes':
    - 'features/index.md'
  - 'Use Cases': use-cases.md
  - 'GoDoc Reference': 'https://pkg.go.dev/github.com/cilium/ebpf'
  - 'GitHub':
    - 'Repository': 'https://github.com/cilium/ebpf'
    - 'Issue Tracker': 'https://github.com/cilium/ebpf/issues'
    - 'Discussions': 'https://github.com/cilium/ebpf/discussions'
  - 'About': about.md

extra:
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/cilium/ebpf

extra_css:
  - stylesheets/extra.css

watch:
- examples/
- includes/
- overrides/
- ebpf.py

plugins:
  - search
  - macros:
      # This opens ebpf.py in docs/.
      module_name: ebpf
      # Make the mkdocs build fail if any errors occur.
      # Otherwise, any errors would be rendered to the build output.
      on_error_fail: true
      include_yaml:
        - vars.yml
  # Updated/authors displayed in footer.
  # Layout is customized in overrides/partials/source-file.html.
  - git-revision-date-localized:
      type: timeago
  - git-authors:
      show_email_address: false
      authorship_threshold_percent: 10
      exclude:
        - index.md

# Enable syntax highlighting in mkdocs-material.
markdown_extensions:
  # Automatic tooltips for abbreviations/glossary.
  - abbr
  # Setting attributes on code fences (e.g. ``` go linenums='1')
  - attr_list
  # Special content blocks like '!!! note'
  - admonition
  - footnotes
  # Collapsible admonitions
  - pymdownx.details
  # Syntax highlighting in code blocks
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.inlinehilite
  # Glossary
  - pymdownx.snippets:
      auto_append:
        - includes/glossary.md
  # Superfences enables nested and tabbed code blocks and Mermaid support
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  # Content tabs for code snippets, checklists, etc.
  - pymdownx.tabbed:
      alternate_style: true 
  # Emoji and icons like :fontawesome-brands-golang:
  - pymdownx.emoji:
      emoji_index: !!python/name:materialx.emoji.twemoji
      emoji_generator: !!python/name:materialx.emoji.to_svg
  # Table of Contents
  - toc:
      permalink: true
